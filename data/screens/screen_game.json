[
	{
		"name" : "Background",
		"attributes" :
		{
			"x" : 0,
			"y" : 0,
			"spriteInfo" : "sprites/sprite_info_bkg.json"
		},
		"behaviors" : [ "Sprite" ]
	},
    {
        "name" : "Registry",
        "attributes" :
        {
            "objects" :
            [
                "objects/mc_walk.json",
                "objects/mc_on_phone.json"
            ]
        },
        "behaviors" : [ "ObjectRegistry" ]
    },
	{
		"name" : "MCAnswerBox",
		"attributes" :
		{
			"x" : 0,
			"y" : 0,
			"width" : 400,
			"height" : 120,
			"font" : "fonts/rough_typewriter.otf",
			"fontSize" : 16,
			"text" : "",
			"color" : [0, 0, 0, 64]
		},
		"behaviors" : [ "Shape", "TextBox" ]
	},
	{
		"name" : "DialogueBox",
		"attributes" :
		{
			"x" : 40,
			"y" : 640,
			"width" : 1200,
			"height" : 60,
			"font" : "fonts/rough_typewriter.otf",
			"fontSize" : 16,
			"text" : "",
			"color" : [0, 0, 0, 64]
		},
		"behaviors" :
		[
			"Shape",
			"TextBox",
			"PhoneController"
		]
	},
	{
		"name" : "Phone",
		"attributes" :
		{
			"x" : 558,
			"y" : 350,
			"width" : 50,
			"height" : 50,
			"condition" : "phone_used",
            "overText" : "Use phone",
			"font" : "fonts/rough_typewriter.otf",
			"fontSize" : 16
		},
		"behaviors" :
		[
			"UsableItem"
		]
	},

//	{
//		"name" : "Editor",
//		"attributes" :
//		{
//			"object_names" :
//			[
//				"Background",
//				"DialogueBox",
//				"MC",
//				"Phone"
//			]
//		},
//		"behaviors" : [ "ObjectContainer", "Edit" ]
//	},
	{
		"name" : "BackgroundMusic",
		"attributes" :
		{
			"musicFilename" : "music/bgmusic.ogg",
			"musicLoop" : true,
			"musicAutoPlay" : true
		},
		"behaviors" : [ "MusicPlayer" ]
	},
	{
		"name" : "TriggerStartConversation",
		"attributes" :
		{
			"conditions" : [ "phone_used" ],
			"actions" :
			[
				{
					"action" : "SendMessage",
					"args" : [ "DialogueBox", "start_conversation" ]
				},
				{
					"action" : "SwitchTrigger",
					"args" : [ "TriggerStartConversation", false ]
				},
                {
                    "action" : "AddObject",
                    "args" : [ "MCOnPhone" ]
                },
                {
                    "action" : "RemoveObject",
                    "args" : [ "MC" ]
                },
                {
                    "action" : "RemoveBehavior",
                    "args" : [ "Phone", "UsableItem" ]
                }
			]
		},
		"behaviors" : [ "Trigger" ]
	},
	{
		"name" : "TriggerEndConversation",
		"attributes" :
		{
			"conditions" : [ "phone_hang" ],
			"actions" :
			[
				{
					"action" : "SwitchTrigger",
					"args" : [ "TriggerStartConversation", true ]
				},
                {
                    "action" : "SendMessage",
                    "args" : [ "MCOnPhone", "play_animation", "hang" ]
                },
                {
                    "action" : "AddBehavior",
                    "args" : [ "Phone", "UsableItem" ]
                }
			]
		},
		"behaviors" : [ "Trigger" ]
	},
	{
		"name" : "SendMessage",
		"behaviors" : [ "ActionSendMessage" ]
	},
	{
		"name" : "SwitchTrigger",
		"behaviors" : [ "ActionSwitchTrigger" ]
	},
    {
        "name" : "AddObject",
        "behaviors" : [ "ActionAddObject" ]
    },
    {
        "name" : "RemoveObject",
        "behaviors" : [ "ActionRemoveObject" ]
    },
    {
        "name" : "AddBehavior",
        "behaviors" : [ "ActionAddBehavior" ]
    },
    {
        "name" : "RemoveBehavior",
        "behaviors" : [ "ActionRemoveBehavior" ]
    },
    
    {
        "name" : "GameScreen",
        "behaviors" : [ "GameScreen" ]
    }
]
